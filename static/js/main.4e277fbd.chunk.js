(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{108:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(43),s=n.n(i),o=n(71),u=n(61),h=n(79),l=n(3),p=n(18),b=n(5),O=n(75),R=n(81),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=Object(R.a)(65536),c=new Uint8Array(r.buffer);n&&c.set(n);for(var a=new h.a(r),i=0;e&&i<e.length;i++)c[t+i]=e[i];return{memory:r,writableBytes:c,cpu:a}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r=d(e,t,n)};g(new Uint8Array([]));var j,f={memory:r.memory,cpu:r.cpu,meta:null,writableBytes:r.writableBytes,halt:!1},E=Object(u.c)({name:"memory",initialState:f,reducers:{initMachine:function(e,t){var n=t.payload,c=n.program,a=n.base,i=n.reset;return g(new Uint8Array(c),a,i?null:e.writableBytes),Object(b.a)(Object(b.a)({},e),r)},step:function(e){var t=r.cpu.cycle();return Object(b.a)(Object(b.a)(Object(b.a)({},e),r),{},{halt:t||!1})},setMeta:function(e,t){var n=t.payload,r=n.meta,c=n.base,a=n.reset;return Object(b.a)(Object(b.a)({},e),{},{meta:a?Object(l.a)({},c.toString(16),Object(p.a)(r)):Object(b.a)(Object(b.a)({},e.meta),{},Object(l.a)({},c.toString(16),Object(p.a)(r)))})},resetHalt:function(e){return Object(b.a)(Object(b.a)({},e),{},{halt:!1})}}}),_=E.actions,m=_.step,x=_.initMachine,v=_.setMeta,L=_.resetHalt,T=Object(O.a)((function(e){return e.memory.cpu.getRegisterBank()}),(function(e){return e})),I=Object(O.a)((function(e){return e.memory.cpu.getRegister("pc")}),(function(e){return e})),S=Object(O.a)((function(e){return e.memory.cpu.getRegister("sp")}),(function(e){return e})),C=Object(O.a)((function(e){return e.memory.meta}),(function(e){return e})),G=Object(O.a)((function(e){return e.memory.halt}),(function(e){return e})),A=Object(O.a)((function(e){return e.memory.memory}),(function(e){return e})),w=E.reducer,y=Object(u.b)({isSerializable:function(e){return function(e){if(!e||"object"!==typeof e)return!1;var t=e.constructor===DataView,n=e.constructor===Uint8Array,r=e.constructor===h.a;return t||n||r}(e)||Object(u.d)(e)}}),M=Object(u.a)({reducer:{memory:w},middleware:[y]}),N=function(){return Object(o.b)()},U=o.c,D=n(191),P=n(25),k=n(187),B=n(176),J=Object(B.a)({config:{initialColorMode:"dark",useSystemColorMode:!0}}),W=n(8),H=n(179),X=n(180),V=n(177),z=(n(108),n(6)),K=function(e,t,n){return Array.from({length:t},(function(t,r){var c,a=n+r;try{c=e.getUint8(a)}catch(i){console.log(i.msg),c=65535}return{byte:c,address:a}})).map((function(e){var t=e.byte,n=e.address;return{byte:n<=65535?t?"0x".concat(t.toString(16).padStart(2,"0"),"\t"):"0x00\t":"",id:"mmem-".concat(n)}}))},Q=function(e,t){var n=e.end,r=(e.tableCaption,U(A)),a=U(I),i=U(S),s=function(){return n?n-28:28*Math.floor(a/28)},o=Object(c.useState)(s()),u=Object(W.a)(o,2),h=u[0],l=u[1];Object(c.useEffect)((function(){l(s())}),[a]);Object(c.useEffect)((function(){var e,t,n=document.getElementsByClassName("mmem-".concat(a)),r=document.getElementsByClassName("mmem-".concat(i));return n[0]&&(e=n[0]).classList.add("pointed-pc"),r[0]&&(t=r[0]).classList.add("pointed-sp"),function(){var n,r;null===(n=e)||void 0===n||n.classList.remove("pointed-pc"),null===(r=t)||void 0===r||r.classList.remove("pointed-sp")}}));return Object(c.useImperativeHandle)(t,(function(){return{setBaseWrapped:function(e){!function(e){isNaN(e)?l(s()):l(e)}(e)}}}),[]),function(e,t,n){for(var c=[],a=e;a<e+t*n&&a<65535;a+=n)c.push(K(r,n,a));return Object(z.jsxs)(V.a,{size:"sm",height:"89%",variant:"striped",colorScheme:"twitter",marginBottom:"5px",children:[Object(z.jsx)(V.e,{children:Object(z.jsx)(V.f,{children:Object(z.jsx)(V.d,{children:"Address"})})}),Object(z.jsx)(V.b,{children:c.map((function(t,r){return Object(z.jsxs)(V.f,{children:[Object(z.jsx)(V.d,{children:"0x".concat((e+r*n).toString(16).padStart(4,"0"),":\t")}),t.map((function(e){var t=e.byte,n=e.id;return Object(z.jsx)(V.c,{className:n,children:t})}))]})}))})]})}(h,7,4)},Y=Object(c.forwardRef)(Q),F=function(){var e=U(T),t=Object.keys(e).map((function(t,n){return Object(z.jsxs)(V.f,{children:[Object(z.jsx)(V.d,{style:{color:"pc"===t?"rgba(165, 245, 191, 0.9)":"sp"===t?"rgba(216, 165, 245, 0.9)":"inherit"},children:t}),Object(z.jsx)(V.c,{children:e[t]})]},n)}));return Object(z.jsxs)(V.a,{size:"sm",height:"94.6%",variant:"striped",colorScheme:"twitter",children:[Object(z.jsx)(V.e,{children:Object(z.jsxs)(V.f,{children:[Object(z.jsx)(V.d,{children:"Register"}),Object(z.jsx)(V.d,{isNumeric:!0,children:"Contents"})]})}),Object(z.jsx)(V.b,{children:t})]})},$=function(){var e=U(S);return Object(z.jsx)(Y,{end:e+2,tableCaption:"Stack"})},Z=function(){var e=Object(c.useRef)();return Object(z.jsxs)("div",{className:"program-wrapper",children:[Object(z.jsxs)("div",{className:"registers",children:[Object(z.jsx)(H.a,{children:"Registers"}),Object(z.jsx)(F,{})]}),Object(z.jsxs)("div",{className:"memory-col",children:[Object(z.jsxs)("div",{style:{display:"block",minHeight:"305px"},children:[Object(z.jsxs)("div",{className:"memory-head",children:[Object(z.jsx)(H.a,{children:"Main Memory"}),Object(z.jsx)(X.a,{defaultValue:"0000",color:"blue.600",fontWeight:"bold",maxLength:4,width:"60px",fontSize:"18px",padding:"5px",onChange:function(t){e.current&&e.current.setBaseWrapped(parseInt(t.target.value,16))}})]}),Object(z.jsx)(Y,{ref:e})]}),Object(z.jsxs)("div",{className:"stack",children:[Object(z.jsx)(H.a,{children:"Stack"}),Object(z.jsx)($,{})]})]})]})},q=n(53),ee=n(50),te=n(51),ne=n(7),re=n(39);n(118);!function(e){e.REGISTER="REGISTER",e.HEX_LITERAL="HEX_LITERAL",e.VARIABLE="VARIABLE",e.ADDRESS="ADDRESS",e.OP_PLUS="OP_PLUS",e.OP_MINUS="OP_MINUS",e.OP_MULTIPLY="OP_MULTIPLY",e.BINARY_OPERATION="BINARY_OPERATION",e.BRACKETED_EXPRESSION="BRACKETED_EXPRESSION",e.SQUARE_BRACKETED_EXPRESSION="SQUARE_BRACKETED_EXPRESSION",e.LABEL="LABEL",e.INSTRUCTION="INSTRUCTION",e.DATA="DATA",e.CONSTANT="CONSTANT",e.STRUCTURE="STRUCTURE",e.INTERPRET_AS="INTERPRET_AS"}(j||(j={}));var ce,ae,ie=function(e){return e[e.length-1]},se=function(e){return function(t){return{type:e,value:t}}},oe=function(e){return e.map((function(e){return e.join("")}))},ue=function e(t){return se(j.BRACKETED_EXPRESSION)(t.map((function(t){return Array.isArray(t)?e(t):t})))},he=function(e,t,n){return n?Object(b.a)(Object(b.a)({},e),{},{index:n,result:t,isError:!1,error:null}):Object(b.a)(Object(b.a)({},e),{},{result:t,isError:!1,error:null})},le=function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isError:!0,result:null,error:t})},pe=Object(re.a)("parserStateTransformer"),be=function(){function e(t){Object(ee.a)(this,e),Object.defineProperty(this,pe,{writable:!0,value:void 0}),Object(ne.a)(this,pe)[pe]=t}return Object(te.a)(e,[{key:"parse",value:function(e){return Object(ne.a)(this,pe)[pe](e)}},{key:"run",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={targetString:e,index:0,result:null,isError:!1,error:null},r=Object(ne.a)(this,pe)[pe](n);if(t&&r.index!=r.targetString.length)throw new Error("Syntax error: index ".concat(r.index,": ")+"".concat(r.targetString.slice(r.index,Math.min(r.index+15,r.targetString.length))," ..."));return r}},{key:"map",value:function(t){var n=this;return new e((function(e){var r=Object(ne.a)(n,pe)[pe](e);return r.isError?r:he(r,t(r.result))}))}},{key:"chain",value:function(t){var n=this;return new e((function(e){var r=Object(ne.a)(n,pe)[pe](e);return r.isError?r:t(r.result).parse(r)}))}}]),e}(),Oe=function(e){if(!e||1!==e.length)throw new TypeError("char must be called with a single character, but got ".concat(e));return new be((function(t){if(t.isError)return t;var n=t.targetString,r=t.index;if(0===n.length)return le(t,"ParseError (position ".concat(r,"): Expecting character '").concat(e,"', but got end of input."));var c=n.charAt(r);return c===e?he(t,e,r+1):le(t,"ParseError (position ".concat(r,"): Expecting character '").concat(e,"', got '").concat(c,"'"))}))},Re=function(e){return new be((function(t){if(t.isError)return t;var n,r=[],c=t,a=Object(q.a)(e);try{for(a.s();!(n=a.n()).done;){if((c=n.value.parse(c)).isError)return c;r.push(c.result)}}catch(i){a.e(i)}finally{a.f()}return he(c,r)}))},de=function(e,t){return new be((function(n){if(n.isError)return n;for(var r=[],c=n;;){var a=e.parse(c);if(a.isError)break;r.push(a.result),c=a}return t&&0===r.length?le(c,"many1: Unable to match any input using parser at index ".concat(c.index,".")):he(c,r)}))},ge=function(e,t){return function(n){return new be((function(r){for(var c=[],a=r;;){var i=n.parse(a);if(i.isError)break;c.push(i.result),a=i;var s=e.parse(a);if(s.isError)break;a=s}return t&&0===c.length?le(a,"sepBy1: Unable to match any input using parser at index ".concat(a.index,".")):he(a,c)}))}},je=function(e){return new be((function(t){if(t.isError)return t;var n=e.parse(t);return n.isError?he(t,null):n}))},fe=/.+?(?=\n)/,Ee=/\r?\n/,_e=function(e){return new be((function(t){var n=t.targetString,r=t.index;if(t.isError)return t;var c=n.slice(r);if(0===c.length)return le(t,"regex: Got unexpected end of input.");var a=c.match(e);return a&&0!==a[0].length?he(t,a[0],r+a[0].length):le(t,"regex: Couldnt match digits at index ".concat(r,"."))}))},me=_e(/^[A-Za-z]*/),xe=_e(/[a-zA-Z]/),ve=_e(/^[0-9]*/),Le=_e(/[0-9]*/),Te=_e(/^\s+/),Ie=Oe(";").chain((function(){return oe(Re([Se,_e(fe),je(_e(Ee)),Se]))})),Se=je(Te).map((function(e){return e||""})),Ce=je(Ie).map((function(e){return e||"comment"})),Ge={Parser:be,str:function(e){return new be((function(t){var n=t.targetString,r=t.index;if(t.isError)return t;var c=n.slice(r);return 0===c.length?le(t,'str: Tried to match "'.concat(e,'" but got unexpected end of input.')):c.startsWith(e)?he(t,e,r+e.length):le(t,"str: Tried to match ".concat(e," but got ").concat(n.slice(r,r+10),"..."))}))},char:Oe,sequenceOf:Re,choice:function(e){return new be((function(t){if(t.isError)return t;var n,r=Object(q.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value.parse(t);if(!c.isError)return c}}catch(a){r.e(a)}finally{r.f()}return le(t,"choice: Unabled to match with any choice parser at index ".concat(t.index,"."))}))},between:function(e,t){return function(n){return Re([e,n,t]).map((function(e){return e[1]}))}},many:de,many1:function(e){return de(e,!0)},sepBy:ge,sepBy1:function(e,t){return ge(e,!0)(t)},contextual:function(e){return new be((function(t){for(var n=e(),r=void 0,c=t;;){var a=n.next(r),i=a.value;if(a.done)return he(c,i);if(!(i&&i instanceof be))throw new Error("[coroutine] yielded values must be Parsers, got ".concat(a.value,"."));if((c=i.parse(c)).isError)return c;r=c.result}}))},possibly:je,lookAhead:function(e){return new be((function(t){if(t.isError)return t;var n=e.parse(t);return n.isError?le(t,n.error):he(t,n.result)}))},regex:_e,letters:me,letter:xe,digits:ve,digit:Le,whitespace:Te,comment:Ie,optionalWhitespace:Se,optionalComment:Ce,lazy:function(e){return new be((function(t){return e().parse(t)}))},fail:function(e){return new be((function(t){return le(t,e)}))},success:function(e){return new be((function(t){return he(t,e)}))},updateParserState:he,updateParserError:le},Ae=n(4),we=n(12),ye=n.n(we),Me=n(58),Ne={register:se(j.REGISTER),hexLiteral:se(j.HEX_LITERAL),variable:se(j.VARIABLE),address:se(j.ADDRESS),opPlus:se(j.OP_PLUS),opMinus:se(j.OP_MINUS),opMultiply:se(j.OP_MULTIPLY),binaryOperation:se(j.BINARY_OPERATION),bracketedExpression:se(j.BRACKETED_EXPRESSION),squareBracketedExpression:se(j.SQUARE_BRACKETED_EXPRESSION),label:se(j.LABEL),instruction:se(j.INSTRUCTION),data:se(j.DATA),constant:se(j.CONSTANT),structure:se(j.STRUCTURE),interpretAs:se(j.INTERPRET_AS)},Ue=function(e){return Ge.choice([Ge.str(e.toUpperCase()),Ge.str(e.toLowerCase())])},De=Ge.lookAhead(Ge.regex(/^./)),Pe=Ge.choice(Me.a.map((function(e){return Ue(e)}))).map(Ne.register),ke=Ge.regex(/^[0-9A-Fa-f]/),Be=Ge.char("$").chain((function(){return oe(Ge.many1(ke))})).map(Ne.hexLiteral),Je=Ge.char("&").chain((function(){return oe(Ge.many1(ke))})).map(Ne.address),We=oe(Ge.sequenceOf([Ge.regex(/^[a-zA-Z_]/),Ge.possibly(Ge.regex(/^[a-zA-Z0-9_]+/)).map((function(e){return null===e?"":e}))])),He=Ge.str("!").chain((function(){return We})).map(Ne.variable),Xe=Ge.choice([Ge.char("+").map(Ne.opPlus),Ge.char("-").map(Ne.opMinus),Ge.char("*").map(Ne.opMultiply)]),Ve=Ge.sequenceOf([We,Ge.char(":"),Ge.optionalWhitespace]).map((function(e){return Object(W.a)(e,1)[0]})).map(Ne.label),ze=Ge.between(Ge.optionalWhitespace,Ge.optionalWhitespace),Ke=Ge.sepBy(ze(Ge.char(","))),Qe=Ge.contextual(ye.a.mark((function e(){var t,n,r;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.char("<");case 2:return e.next=4,We;case 4:return t=e.sent,e.next=7,Ge.char(">");case 7:return e.next=9,Ge.optionalWhitespace;case 9:return e.next=11,We;case 11:return n=e.sent,e.next=14,Ge.char(".");case 14:return e.next=16,We;case 16:return r=e.sent,e.next=19,Ge.optionalWhitespace;case 19:return e.abrupt("return",Ne.interpretAs({structureName:t,symbol:n,property:r}));case 20:case"end":return e.stop()}}),e)}))),Ye=Ge.choice([Be,He,Qe]),Fe=Ge.contextual(ye.a.mark((function e(){var t,n,r,c,a,i;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e){e[e.OPEN_BRACKET=0]="OPEN_BRACKET",e[e.OPERATOR_OR_CLOSING_BRACKET=1]="OPERATOR_OR_CLOSING_BRACKET",e[e.ELEMENT_OR_OPENING_BRACKET=2]="ELEMENT_OR_OPENING_BRACKET",e[e.CLOSE_BRACKET=3]="CLOSE_BRACKET"}(t||(t={})),r=[n=[]],e.next=6,Ge.char("(");case 6:c=t.ELEMENT_OR_OPENING_BRACKET,a=!0;case 8:if(!a){e.next=65;break}return e.next=11,De;case 11:i=e.sent,e.t0=c,e.next=e.t0===t.OPEN_BRACKET?15:e.t0===t.OPERATOR_OR_CLOSING_BRACKET?23:e.t0===t.ELEMENT_OR_OPENING_BRACKET?35:e.t0===t.CLOSE_BRACKET?52:62;break;case 15:return e.next=17,Ge.char("(");case 17:return n.push([]),r.push(ie(n)),e.next=21,Ge.optionalWhitespace;case 21:return c=t.ELEMENT_OR_OPENING_BRACKET,e.abrupt("continue",8);case 23:if(")"!==i){e.next=26;break}return c=t.CLOSE_BRACKET,e.abrupt("continue",8);case 26:return e.t1=ie(r),e.next=29,Xe;case 29:return e.t2=e.sent,e.t1.push.call(e.t1,e.t2),e.next=33,Ge.optionalWhitespace;case 33:return c=t.ELEMENT_OR_OPENING_BRACKET,e.abrupt("continue",8);case 35:if(")"!==i){e.next=39;break}return e.next=38,Ge.fail("Unexpected end of expression");case 38:return e.abrupt("break",63);case 39:if("("!==i){e.next=43;break}c=t.OPEN_BRACKET,e.next=51;break;case 43:return e.t3=ie(r),e.next=46,Ye;case 46:return e.t4=e.sent,e.t3.push.call(e.t3,e.t4),e.next=50,Ge.optionalWhitespace;case 50:c=t.OPERATOR_OR_CLOSING_BRACKET;case 51:return e.abrupt("continue",8);case 52:return e.next=54,Ge.char(")");case 54:if(r.pop(),0!==r.length){e.next=58;break}return a=!1,e.abrupt("break",63);case 58:return e.next=60,Ge.optionalWhitespace;case 60:return c=t.OPERATOR_OR_CLOSING_BRACKET,e.abrupt("continue",8);case 62:throw new Error("Reached undefined state in parse finite state machine: 'Bracketed Expression'");case 63:e.next=8;break;case 65:return e.abrupt("return",ue(n));case 66:case"end":return e.stop()}}),e)}))),$e=Ge.contextual(ye.a.mark((function e(){var t,n,r,c,a,i;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e){e[e.EXPECT_ELEMENT=0]="EXPECT_ELEMENT",e[e.EXPECT_OPERATOR=1]="EXPECT_OPERATOR"}(t||(t={})),n=t.EXPECT_ELEMENT,e.next=5,Ge.char("[");case 5:return e.next=7,Ge.optionalWhitespace;case 7:r=[],c=!0;case 9:if(!c){e.next=42;break}e.t0=n,e.next=e.t0===t.EXPECT_ELEMENT?13:e.t0===t.EXPECT_OPERATOR?21:39;break;case 13:return e.next=15,Ge.choice([Fe,Ye]);case 15:return a=e.sent,r.push(a),n=t.EXPECT_OPERATOR,e.next=20,Ge.optionalWhitespace;case 20:return e.abrupt("continue",9);case 21:return e.next=23,De;case 23:if("]"!==e.sent){e.next=31;break}return e.next=27,Ge.char("]");case 27:return e.next=29,Ge.optionalWhitespace;case 29:return c=!1,e.abrupt("break",40);case 31:return e.next=33,Xe;case 33:return i=e.sent,r.push(i),n=t.EXPECT_ELEMENT,e.next=38,Ge.optionalWhitespace;case 38:return e.abrupt("continue",9);case 39:throw new Error("Reached undefined state in parse finite state machine: 'Square Bracket Expression'");case 40:e.next=9;break;case 42:return e.abrupt("return",Ne.squareBracketedExpression(r));case 43:case"end":return e.stop()}}),e)}))).map((function e(t){if(t.type!==j.SQUARE_BRACKETED_EXPRESSION&&t.type!==j.BRACKETED_EXPRESSION)return t;if(1===t.value.length)return t.value[0];for(var n={OP_MULTIPLY:2,OP_PLUS:1,OP_MINUS:0},r={priority:-1/0,leftOpr:null,rightOpr:null,op:null},c=1;c<t.value.length;c+=2){var a=n[t.value[c].type];a>r.priority&&(r={priority:a,leftOpr:c-1,rightOpr:c+1,op:t.value[c]})}var i=Ne.bracketedExpression([].concat(Object(p.a)(t.value.slice(0,r.leftOpr)),[Ne.binaryOperation({a:e(t.value[r.leftOpr]),b:e(t.value[r.rightOpr]),op:r.op})],Object(p.a)(t.value.slice(r.rightOpr+1))));return e(i)})),Ze=function(e){return Ge.contextual(e)},qe=function(e,t){return Ze(ye.a.mark((function n(){var r,c;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Ge.choice([Be,$e]);case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.char(",");case 11:return n.next=13,Ge.optionalWhitespace;case 13:return n.next=15,Pe;case 15:return c=n.sent,n.next=18,Ge.optionalWhitespace;case 18:return n.next=20,Ge.optionalComment;case 20:return n.abrupt("return",Ne.instruction({instruction:t,args:[r,c]}));case 21:case"end":return n.stop()}}),n)})))},et=function(e,t){return Ze(ye.a.mark((function n(){var r,c;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Pe;case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.char(",");case 11:return n.next=13,Ge.optionalWhitespace;case 13:return n.next=15,Ge.choice([Be,$e]);case 15:return c=n.sent,n.next=18,Ge.optionalWhitespace;case 18:return n.next=20,Ge.optionalComment;case 20:return n.abrupt("return",Ne.instruction({instruction:t,args:[r,c]}));case 21:case"end":return n.stop()}}),n)})))},tt=function(e,t){return Ze(ye.a.mark((function n(){var r,c;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Pe;case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.char(",");case 11:return n.next=13,Ge.optionalWhitespace;case 13:return n.next=15,Pe;case 15:return c=n.sent,n.next=18,Ge.optionalWhitespace;case 18:return n.next=20,Ge.optionalComment;case 20:return n.abrupt("return",Ne.instruction({instruction:t,args:[r,c]}));case 21:case"end":return n.stop()}}),n)})))},nt=function(e,t){return Ze(ye.a.mark((function n(){var r,c;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Pe;case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.char(",");case 11:return n.next=13,Ge.optionalWhitespace;case 13:return n.next=15,Ge.choice([Je,Ge.char("&").chain((function(){return $e}))]);case 15:return c=n.sent,n.next=18,Ge.optionalWhitespace;case 18:return n.next=20,Ge.optionalComment;case 20:return n.abrupt("return",Ne.instruction({instruction:t,args:[r,c]}));case 21:case"end":return n.stop()}}),n)})))},rt=function(e,t){return Ze(ye.a.mark((function n(){var r,c;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Ge.choice([Be,$e]);case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.char(",");case 11:return n.next=13,Ge.optionalWhitespace;case 13:return n.next=15,Ge.optionalComment;case 15:return n.next=17,Ge.choice([Je,Ge.char("&").chain((function(){return $e}))]);case 17:return c=n.sent,n.next=20,Ge.optionalWhitespace;case 20:return n.abrupt("return",Ne.instruction({instruction:t,args:[r,c]}));case 21:case"end":return n.stop()}}),n)})))},ct=function(e,t){return Ze(ye.a.mark((function n(){return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.optionalWhitespace;case 4:return n.next=6,Ge.optionalComment;case 6:return n.abrupt("return",Ne.instruction({instruction:t,args:[]}));case 7:case"end":return n.stop()}}),n)})))},at=function(e,t){return Ze(ye.a.mark((function n(){var r;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Pe;case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.optionalComment;case 11:return n.abrupt("return",Ne.instruction({instruction:t,args:[r]}));case 12:case"end":return n.stop()}}),n)})))},it=function(e,t){return Ze(ye.a.mark((function n(){var r;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Ge.choice([Be,$e]);case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.optionalComment;case 11:return n.abrupt("return",Ne.instruction({instruction:t,args:[r]}));case 12:case"end":return n.stop()}}),n)})))},st=Ae.a.MOV,ot=Ae.a.ADD,ut=Ae.a.SUB,ht=Ae.a.MUL,lt=Ae.a.AND,pt=Ae.a.OR,bt=Ae.a.XOR,Ot=Ae.a.LSL,Rt=Ae.a.LSR,dt=Ae.a.INC,gt=Ae.a.DEC,jt=Ae.a.NOT,ft=Ae.a.JEQ,Et=Ae.a.JNE,_t=Ae.a.JLT,mt=Ae.a.JGT,xt=Ae.a.JLE,vt=Ae.a.JGE,Lt=Ae.a.PSH,Tt=Ae.a.POP,It=Ae.a.CAL,St=Ae.a.RET,Ct=Ae.a.HLT,Gt=Ge.choice([tt(st,Ae.d[st].regReg),qe(st,Ae.d[st].litReg),(ce=st,ae=Ae.d[st].memReg,Ze(ye.a.mark((function e(){var t,n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(ce);case 2:return e.next=4,Ge.whitespace;case 4:return e.next=6,Ge.choice([Je,Ge.char("&").chain((function(){return $e}))]);case 6:return t=e.sent,e.next=9,Ge.optionalWhitespace;case 9:return e.next=11,Ge.char(",");case 11:return e.next=13,Ge.optionalWhitespace;case 13:return e.next=15,Pe;case 15:return n=e.sent,e.next=18,Ge.optionalWhitespace;case 18:return e.next=20,Ge.optionalComment;case 20:return e.abrupt("return",Ne.instruction({instruction:ae,args:[t,n]}));case 21:case"end":return e.stop()}}),e)})))),nt(st,Ae.d[st].regMem),rt(st,Ae.d[st].litMem),function(e,t){return Ze(ye.a.mark((function n(){var r,c;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Ge.char("&").chain((function(){return Pe}));case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.char(",");case 11:return n.next=13,Ge.optionalWhitespace;case 13:return n.next=15,Pe;case 15:return c=n.sent,n.next=18,Ge.optionalWhitespace;case 18:return n.next=20,Ge.optionalComment;case 20:return n.abrupt("return",Ne.instruction({instruction:t,args:[r,c]}));case 21:case"end":return n.stop()}}),n)})))}(st,Ae.d[st].regIndReg),function(e,t){return Ze(ye.a.mark((function n(){var r,c,a;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue(e);case 2:return n.next=4,Ge.whitespace;case 4:return n.next=6,Ge.choice([Be,$e]);case 6:return r=n.sent,n.next=9,Ge.optionalWhitespace;case 9:return n.next=11,Ge.char(",");case 11:return n.next=13,Ge.optionalWhitespace;case 13:return n.next=15,Ge.char("&").chain((function(){return Pe}));case 15:return c=n.sent,n.next=18,Ge.optionalWhitespace;case 18:return n.next=20,Ge.char(",");case 20:return n.next=22,Ge.optionalWhitespace;case 22:return n.next=24,Pe;case 24:return a=n.sent,n.next=27,Ge.optionalWhitespace;case 27:return n.next=29,Ge.optionalComment;case 29:return n.abrupt("return",Ne.instruction({instruction:t,args:[r,c,a]}));case 30:case"end":return n.stop()}}),n)})))}(st,Ae.d[st].litOffReg)]),At=Ge.choice([tt(ot,Ae.d[ot].regReg),qe(ot,Ae.d[ot].litReg)]),wt=Ge.choice([tt(ut,Ae.d[ut].regReg),et(ut,Ae.d[ut].regLit),qe(ut,Ae.d[ut].litReg)]),yt=Ge.choice([tt(ht,Ae.d[ht].regReg),qe(ht,Ae.d[ht].litReg)]),Mt=Ge.choice([tt(lt,Ae.d[lt].regReg),et(lt,Ae.d[lt].regLit)]),Nt=Ge.choice([tt(pt,Ae.d[pt].regReg),et(pt,Ae.d[pt].regLit)]),Ut=Ge.choice([tt(bt,Ae.d[bt].regReg),et(bt,Ae.d[bt].regLit)]),Dt=Ge.choice([tt(Ot,Ae.d[Ot].regReg),et(Ot,Ae.d[Ot].regLit)]),Pt=Ge.choice([tt(Rt,Ae.d[Rt].regReg),et(Rt,Ae.d[Rt].regLit)]),kt=at(dt,Ae.d[dt].singleReg),Bt=at(gt,Ae.d[gt].singleReg),Jt=at(jt,Ae.d[jt].singleReg),Wt=Ge.choice([nt(ft,Ae.d[ft].regMem),rt(ft,Ae.d[ft].litMem)]),Ht=Ge.choice([nt(Et,Ae.d[Et].regMem),rt(Et,Ae.d[Et].litMem)]),Xt=Ge.choice([nt(_t,Ae.d[_t].regMem),rt(_t,Ae.d[_t].litMem)]),Vt=Ge.choice([nt(mt,Ae.d[mt].regMem),rt(mt,Ae.d[mt].litMem)]),zt=Ge.choice([nt(xt,Ae.d[xt].regMem),rt(xt,Ae.d[xt].litMem)]),Kt=Ge.choice([nt(vt,Ae.d[vt].regMem),rt(vt,Ae.d[vt].litMem)]),Qt=Ge.choice([it(Lt,Ae.d[Lt].singleLit),at(Lt,Ae.d[Lt].singleReg)]),Yt=at(Tt,Ae.d[Tt].singleReg),Ft=Ge.choice([it(It,Ae.d[It].singleLit),at(It,Ae.d[It].singleReg)]),$t=ct(St,Ae.d[St].noArgs),Zt=ct(Ct,Ae.d[Ct].noArgs),qt=Ge.choice([Gt,At,wt,yt,Nt,Mt,Ut,Jt,Dt,Pt,kt,Bt,Ht,Wt,Xt,Vt,zt,Kt,Qt,Yt,Ft,$t,Zt]),en=function(e){return Ge.contextual(ye.a.mark((function t(){var n,r,c;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Boolean,t.next=3,Ge.possibly(Ge.char("+"));case 3:return t.t1=t.sent,n=(0,t.t0)(t.t1),t.next=7,Ge.str("data".concat(e));case 7:return t.next=9,Ge.whitespace;case 9:return t.next=11,We;case 11:return r=t.sent,t.next=14,Ge.whitespace;case 14:return t.next=16,Ge.char("=");case 16:return t.next=18,Ge.whitespace;case 18:return t.next=20,Ge.char("{");case 20:return t.next=22,Ge.whitespace;case 22:return t.next=24,Ke(Be);case 24:return c=t.sent,t.next=27,Ge.optionalWhitespace;case 27:return t.next=29,Ge.char("}");case 29:return t.next=31,Ge.optionalWhitespace;case 31:return t.abrupt("return",Ne.data({size:e,isExport:n,name:r,values:c}));case 32:case"end":return t.stop()}}),t)})))},tn=en(8),nn=en(16),rn=Ge.contextual(ye.a.mark((function e(){var t,n,r;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Boolean,e.next=3,Ge.possibly(Ge.char("+"));case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.next=7,Ge.str("constant");case 7:return e.next=9,Ge.whitespace;case 9:return e.next=11,We;case 11:return n=e.sent,e.next=14,Ge.whitespace;case 14:return e.next=16,Ge.char("=");case 16:return e.next=18,Ge.whitespace;case 18:return e.next=20,Be;case 20:return r=e.sent,e.next=23,Ge.optionalWhitespace;case 23:return e.abrupt("return",Ne.constant({isExport:t,name:n,value:r}));case 24:case"end":return e.stop()}}),e)}))),cn=Ge.contextual(ye.a.mark((function e(){var t,n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.optionalWhitespace;case 2:return e.next=4,We;case 4:return t=e.sent,e.next=7,Ge.optionalWhitespace;case 7:return e.next=9,Ge.char(":");case 9:return e.next=11,Ge.optionalWhitespace;case 11:return e.next=13,Be;case 13:return n=e.sent,e.next=16,Ge.optionalWhitespace;case 16:return e.abrupt("return",{key:t,value:n});case 17:case"end":return e.stop()}}),e)}))),an=Ge.contextual(ye.a.mark((function e(){var t,n,r;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Boolean,e.next=3,Ge.possibly(Ge.char("+"));case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.next=7,Ge.str("structure");case 7:return e.next=9,Ge.whitespace;case 9:return e.next=11,We;case 11:return n=e.sent,e.next=14,Ge.whitespace;case 14:return e.next=16,Ge.char("{");case 16:return e.next=18,Ge.whitespace;case 18:return e.next=20,Ke(cn);case 20:return r=e.sent,e.next=23,Ge.optionalWhitespace;case 23:return e.next=25,Ge.char("}");case 25:return e.next=27,Ge.optionalWhitespace;case 27:return e.abrupt("return",Ne.structure({isExport:t,name:n,members:r}));case 28:case"end":return e.stop()}}),e)}))),sn=Ge.many(Ge.choice([qt,Ve,tn,nn,rn,an,Ge.comment])),on=Me.a.reduce((function(e,t,n){return e[t.toUpperCase()]=n,e}),{}),un=[],hn=[],ln={},pn={},bn=function(e){switch(e.type){case j.VARIABLE:if(!(e.value in ln))throw new Error("Label ".concat(e.value," wasn't resolved."));return ln[e.value];case j.INTERPRET_AS:var t=pn[e.value.structureName];if(!t)throw new Error('structure "'.concat(e.value.structure,'" could not be resolved.'));var n=t.members[e.value.property];if(!n)throw new Error('propery "'.concat(e.value.property,'" in structure "').concat(e.value.structure,'" could not be resolved.'));if(!(e.value.symbol in ln))throw new Error("symbol ".concat(e.value.symbol," could not be resolved."));return ln[e.value.symbol]+n.offset;case j.HEX_LITERAL:case j.ADDRESS:return parseInt(e.value,16);default:throw new Error("Unsupported node type: ".concat(e.type))}},On=function(e){var t=bn(e),n=(65280&t)>>8,r=255&t;un.push(n,r)},Rn=function(e){var t=on[e.value.toUpperCase()];un.push(t)},dn=function(e){return e in ln||e in pn},gn=function(e){un=[],hn=[],ln={},pn={};var t=sn.run(e),n=t.result.filter((function(e){return"string"!==typeof e}));if(t.isError)throw new Error(t.error);var r=0;if("result"in t){n.forEach((function(e){switch(e.type){case j.LABEL:if(dn(e.value))throw new Error("Can't create label \"".concat(e.value,'" because it has already been declared.'));return void(ln[e.value]=r);case j.CONSTANT:if(dn(e.value.name))throw new Error("Can't create constant \"".concat(e.value.name,'" because it has already been declared.'));return void(ln[e.value.name]=65535&parseInt(e.value.value.value,16));case j.DATA:if(dn(e.value))throw new Error("Can't create data \"".concat(e.value,'" because it has already been declared.'));ln[e.value.name]=r;var t=16===e.value.size?2:1,n=e.value.values.length*t;return void(r+=n);case j.STRUCTURE:if(dn(e.value.name))throw new Error("Can't create structure \"".concat(e.value.name,'" because it has already been declared.'));pn[e.value.name]={members:{}};var c=0;return void e.value.members.map((function(t){var n=t.key,r=t.value;pn[e.value.name].members[n]={offset:c,size:65535&parseInt(r.value,16)},c+=pn[e.value.name].members[n].size}));default:var a=Ae.c[e.value.instruction];return void(r+=a.size)}}));var c=0;n.forEach((function(e){if(!function(e){return e.type===j.LABEL||e.type===j.CONSTANT||e.type===j.STRUCTURE}(e))if(e.type!==j.DATA){var t=Ae.c[e.value.instruction];un.push(t.opCode),hn.push({instruction:t.instruction,args:e.value.args.map((function(e){return isNaN(parseInt(e.value))?e.value:"0x".concat(e.value.toString(16).padStart(4,"0"))})),index:c}),c+=t.size,[Ae.b.litReg,Ae.b.memReg].includes(t.type)?(On(e.value.args[0]),Rn(e.value.args[1])):[Ae.b.regLit,Ae.b.regMem].includes(t.type)?(Rn(e.value.args[0]),On(e.value.args[1])):Ae.b.regLit8===t.type?(Rn(e.value.args[0]),function(e){var t=255&bn(e);un.push(t)}(e.value.args[1])):[Ae.b.regReg,Ae.b.regIndReg].includes(t.type)?(Rn(e.value.args[0]),Rn(e.value.args[1])):Ae.b.litMem===t.type?(On(e.value.args[0]),On(e.value.args[1])):Ae.b.litOffReg===t.type?(On(e.value.args[0]),Rn(e.value.args[1]),Rn(e.value.args[2])):Ae.b.singleReg===t.type?Rn(e.value.args[0]):Ae.b.singleLit===t.type&&On(e.value.args[0])}else 8===e.value.size?function(e){e.value.values.map((function(e){var t=parseInt(e.value,16);un.push(255&t)}))}(e):function(e){e.value.values.map((function(e){var t=parseInt(e.value,16);un.push((65280&t)>>8),un.push(255&t)}))}(e)}))}return{assembled:un,parsedInstructions:hn}},jn=n(62),fn=(n(150),n(95));var En,_n,mn,xn,vn,Ln,Tn=n(72),In=n(63),Sn=n(64),Cn=(Sn.a.div(En||(En=Object(In.a)(["\n  font-family: sans-serif;\n  text-align: center;\n"]))),Sn.a.pre(_n||(_n=Object(In.a)(["\n  text-align: left;\n  height: 100%;\n  margin: 0;\n  padding: 0.5em;\n  overflow-y: auto;\n  overflow-x: hidden;\n  white-space: normal\n\n  & .token-line {\n    line-height: 1.3em;\n    height: 1.3em;\n  }\n"])))),Gn=Sn.a.div(mn||(mn=Object(In.a)(["\n  display: table-row;\n"]))),An=Sn.a.span(xn||(xn=Object(In.a)(["\n  display: table-cell;\n  text-align: right;\n  padding-right: 1em;\n  user-select: none;\n  opacity: 0.5;\n"]))),wn=Sn.a.span(vn||(vn=Object(In.a)(["\n  display: table-cell;\n"]))),yn=n(104),Mn=n(121),Nn=n(181),Un=["style"],Dn=function(){var e=Object(c.useState)("0"),t=Object(W.a)(e,2),n=t[0],r=t[1],a=U(C),i=U(I);if(Object(c.useEffect)((function(){var e,t=document.getElementsByClassName("line-0x".concat(i.toString(16).padStart(4,"0")));return t[0]&&(e=t[0]).classList.add("pointed-pc-line"),function(){var t;null===(t=e)||void 0===t||t.classList.remove("pointed-pc-line")}})),!a)return null;if(!a[n])return r(Object.keys(a)[0]),null;if(!a[n].length)return null;var s=a[n].map((function(e){return"".concat(e.instruction," \t")+e.args.reduce((function(t,n,r){var c=r===e.args.length-1?"":",";return t+="".concat(n).concat(c," ")}),"")})).join("\n"),o=function(e){var t=e.style,n=Object(Tn.a)(e,Un);return Object(z.jsx)("div",Object(b.a)({style:Object(b.a)(Object(b.a)(Object(b.a)({},t),{backgroundColor:"rgba(255, 255, 255, 0.1)"}),{},{borderRadius:"10px"})},n))};return Object(z.jsxs)("div",{style:{height:"100%",width:"100%",position:"relative"},children:[Object(z.jsx)(Nn.a,{position:"relative",left:"calc(100% - 160px)",zIndex:2,width:40,height:10,marginTop:-10,marginBottom:-10,bg:"#272430",borderColor:"#272430",color:"#9A86EA",fontFamily:"SFMono-Regular,Menlo,Monaco,Consolas,monospace;",defaultValue:Object.keys(a)[0],onChange:function(e){return r(e.target.value)},children:Object.keys(a).map((function(e,t){return Object(z.jsx)("option",{value:e,children:"0x".concat(parseInt(e,16).toString(16).padStart(4,"0"))},t)}))}),Object(z.jsx)(yn.a,Object(b.a)(Object(b.a)({},yn.b),{},{code:s,language:"jsx",children:function(e){var t=e.className,r=e.style,c=e.tokens,i=e.getLineProps,s=e.getTokenProps;return Object(z.jsx)(Cn,{className:t,style:Object(b.a)({},r),children:Object(z.jsx)(Mn.Scrollbars,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:500,renderThumbVertical:o,renderView:function(){return Object(z.jsx)("div",{style:{display:"flex",flexDirection:"column",position:"absolute",inset:"0px",overflow:"scroll",marginRight:"-17px",marginBottom:"-17px",paddingBottom:"100px"}})},children:c.map((function(e,t){var r=i({line:e,key:t});return r.className+=" line-".concat("0x".concat(a[n][t].index.toString(16).padStart(4,"0"))),Object(z.jsxs)(Gn,Object(b.a)(Object(b.a)({},r),{},{children:[Object(z.jsx)(An,{children:"0x".concat(a[n][t].index.toString(16).padStart(4,"0"))}),Object(z.jsx)(wn,{children:e.map((function(e,t){return Object(z.jsx)("span",Object(b.a)({style:{width:180,minWidth:180,maxWidth:180}},s({token:e,key:t})),t)}))})]}),t)}))})})}}))]})};!function(e){e.ASSEMBLY="ASSEMBLY",e.MACHINE_CODE="MACHINE_CODE"}(Ln||(Ln={}));var Pn=function(e,t){var n=N(),r=Object(c.useRef)(""),a=Object(c.useRef)(""),i=Object(c.useState)(Ln.ASSEMBLY),s=Object(W.a)(i,2),o=s[0],u=s[1],h=Object(c.useRef)(null),l=function(){var e=Object(fn.b)(),t=Object(c.useState)(""),n=Object(W.a)(t,2),r=n[0],a=n[1],i=Object.values(Ae.a).filter((function(e){return"string"===typeof e})).reduce((function(e,t){return e.push(t),e.push(t.toUpperCase()),e}),[]),s=/(r0|R0|r1|R1|r2|R2|r3|R3|r4|R4|r5|R5|r6|R6|r7|R7|acc|ACC|mb|MB|im|IM|sp|SP|fp|FP|pc|PC)/;if(Object(c.useEffect)((function(){if(e){var t="harmonic";a(t),e.languages.register({id:t}),e.languages.setMonarchTokensProvider("harmonic",{defaultToken:"invalid",keywords:i,typeKeywords:["constant","data8","data16","structure"],operators:["+","-","/","*","!"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,tokenizer:{root:[[s,"number.register"],[/\$(@hexdigits)/,"string.invalid"],[/\&(@hexdigits)/,"number.addr"],[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[A-Z][\w\$]*/,"type.identifier"],[/\!\s*[a-zA-Z_\$][\w\$]*/,{token:"annotation",log:"annotation token: $0"}],[/\[(.*)\]/,"type.identifier"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/\[(.*?)\]/,"number.literal"]],whitespace:[[/[ \t\r\n]+/,""],[/(^;.*$)/,"comment"]]}})}}),[e]),""!==r)return r}(),p=function(){return r.current=h.current.getValue()},b=function(t){e.setDisableAssemble(t==Ln.MACHINE_CODE),u(t)},O=function(e,t){var c,i,s;jn.b.dismiss(),p();try{var o=gn((r.current.trim()+"\n").replace(/(?:\r\n|\r|\n)/g,"\n"));c=o.assembled,i=o.parsedInstructions,s="Successful Assembly!",jn.b.success(s,{position:"bottom-right",autoClose:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark",style:{fontSize:13}})}catch(u){return void function(e){jn.b.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",style:{fontSize:13}})}(u.message)}a.current=c.reduce((function(e,t,n){return e+="0x".concat(t.toString(16).padStart(2,"0"))+" "}),""),n(v({meta:i,base:e,reset:t})),b(Ln.MACHINE_CODE)};if(Object(c.useImperativeHandle)(t,(function(){return{generateMachineCode:function(e,t){O(e,t)},loadBinary:function(e,t){!function(e,t){var r=a.current.split(" ").map((function(e){return parseInt(e,16)}));n(x({program:r,base:e,reset:t}))}(e,t)}}}),[]),!l)return null;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(jn.a,{}),Object(z.jsxs)("div",{className:"tab-area",children:[Object(z.jsx)("button",{className:o===Ln.ASSEMBLY?"editor-tab active":"editor-tab",onClick:function(){return b(Ln.ASSEMBLY)},children:"Assembly"}),Object(z.jsx)("button",{disabled:!a.current,className:o===Ln.MACHINE_CODE?"editor-tab active":"editor-tab",onClick:function(){return b(Ln.MACHINE_CODE)},children:"Loader"})]}),Object(z.jsxs)("div",{className:"editor",children:[Object(z.jsx)(fn.a,{height:o===Ln.ASSEMBLY?"80%":"50%",value:o===Ln.ASSEMBLY?r.current:a.current,onChange:p,language:l,onMount:function(e,t){h.current=e},options:{fontSize:15,mouseWheelZoom:!0},theme:"vs-dark"}),o===Ln.MACHINE_CODE&&Object(z.jsx)("div",{style:{height:"44%"},children:Object(z.jsx)(Dn,{})})]})]})},kn=Object(c.forwardRef)(Pn),Bn=(n(166),n(182)),Jn=n(183),Wn=n(129),Hn=n(194),Xn=n(185),Vn=n(193),zn=n(192),Kn=n(186),Qn=function(e){return Object(z.jsx)(Bn.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(z.jsx)(Jn.a,{bgGradient:"linear(to-l, blue.200, teal.500)",bgClip:"text",fontSize:"20",fontWeight:"extrabold",children:"Harmonic"})}))},Yn=n(190),Fn=n(189),$n=function(e){var t=e.onChange,n=e.open,r=a.a.useState(5),c=Object(W.a)(r,2),i=c[0],s=c[1],o=a.a.useState(!1),u=Object(W.a)(o,2),h=u[0],l=u[1];return Object(z.jsxs)(Yn.a,{id:"slider",defaultValue:5,min:20,max:100,width:150,colorScheme:"teal",onChange:function(e){s(e),t(e)},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[Object(z.jsx)(Fn.a,{bg:"blue.600",color:"white",placement:"top-start",isOpen:n,label:"Running Speed",children:" "}),Object(z.jsx)(Yn.c,{value:25,mt:"1",ml:"-2.5",fontSize:"sm",children:"25%"}),Object(z.jsx)(Yn.c,{value:50,mt:"1",ml:"-2.5",fontSize:"sm",children:"50%"}),Object(z.jsx)(Yn.c,{value:75,mt:"1",ml:"-2.5",fontSize:"sm",children:"75%"}),Object(z.jsx)(Yn.e,{children:Object(z.jsx)(Yn.b,{})}),Object(z.jsx)(Fn.a,{hasArrow:!0,bg:"teal.500",color:"white",placement:"top",isOpen:h,label:"".concat(i,"%"),children:Object(z.jsx)(Yn.d,{})})]})},Zn=["children","to"],qn=["children"],er=function(){return Object(z.jsxs)("svg",{width:"24",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[Object(z.jsx)("title",{children:"Close"}),Object(z.jsx)("path",{fill:"white",d:"M9.00023 7.58599L13.9502 2.63599L15.3642 4.04999L10.4142 8.99999L15.3642 13.95L13.9502 15.364L9.00023 10.414L4.05023 15.364L2.63623 13.95L7.58623 8.99999L2.63623 4.04999L4.05023 2.63599L9.00023 7.58599Z"})]})},tr=function(){return Object(z.jsxs)("svg",{width:"24px",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"white",children:[Object(z.jsx)("title",{children:"Menu"}),Object(z.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})},nr=function(e){var t=e.toggle,n=e.isOpen;return Object(z.jsx)(Bn.a,{display:{base:"block",md:"none"},onClick:t,children:n?Object(z.jsx)(er,{}):Object(z.jsx)(tr,{})})},rr=function(e){var t=e.children,n=(e.to,Object(Tn.a)(e,Zn));return Object(z.jsx)(Jn.a,Object(b.a)(Object(b.a)({cursor:"pointer",display:"block"},n),{},{children:t}))},cr=function(e){var t=e.isOpen,n=e.handleAssemble,r=e.handleLoadBinary,c=e.handleStep,i=e.handleRun,s=e.handleRunSpeed,o=e.disabledAssemble,u=e.running,h=Object(Wn.b)(),l=h.colorMode,p=h.toggleColorMode,b=a.a.useRef(0),O=a.a.useRef(!1);return Object(z.jsx)(Bn.a,{display:{base:t?"block":"none",md:"block"},flexBasis:{base:"100%",md:"auto"},children:Object(z.jsxs)(Hn.a,{spacing:8,align:"center",justify:["center","space-between","flex-end","flex-end"],direction:["column","column","row","row"],pt:[4,4,0,0],children:[Object(z.jsx)(rr,{color:o?"grey":"inherit",_hover:{color:o?"grey":"teal.500",cursor:o?"default":"pointer",transition:"100ms ease"},onClick:function(){return!o&&n(b.current,O.current)},children:" Assemble "}),Object(z.jsx)(Xn.a,{htmlFor:"load",_hover:{color:"teal.500",transition:"100ms ease",cursor:"pointer"},onClick:function(){return r(b.current,O.current)},children:"Load"}),Object(z.jsx)(Vn.a,{onChange:function(e){return O.current=e.target.checked},children:"Fresh?"}),Object(z.jsx)(X.a,{id:"load",defaultValue:"0000",color:"blue.600",fontWeight:"bold",maxLength:4,height:"30px",width:"60px",fontSize:"18px",padding:"5px",onChange:function(e){return b.current=parseInt(e.target.value,16)}}),Object(z.jsx)(rr,{_hover:{color:"teal.500",transition:"100ms ease"},onClick:c,children:" Step "}),Object(z.jsx)($n,{open:t,onChange:function(e){return s(e)}}),Object(z.jsx)(rr,{children:Object(z.jsx)(zn.a,{size:"sm",rounded:"md",color:["white","white","white","white"],bg:["blue.600","blue.600","blue.600","blue.600"],_hover:{bg:["teal.500","teal.500","teal.500","teal.500"]},onClick:i,children:u?"Stop":"Run"})}),Object(z.jsx)(rr,{children:Object(z.jsxs)(zn.a,{size:"sm",rounded:"md",color:["white","white","white","white\xab"],bg:["blue.600","blue.600","blue.600","blue.600"],_hover:{bg:["teal.500","teal.500","teal.500","teal.500"]},onClick:p,children:["Toggle ","light"===l?"Dark":"Light"]})})]})})},ar=function(e){var t=e.children,n=Object(Tn.a)(e,qn);return Object(z.jsx)(Kn.a,Object(b.a)(Object(b.a)({as:"nav",align:"center",justify:"space-between",wrap:"wrap",w:"100%",mb:8,p:8,bg:"#243447",color:"white"},n),{},{children:t}))},ir=function(e){var t=a.a.useState(!0),n=Object(W.a)(t,2),r=n[0],c=n[1];return Object(z.jsxs)(ar,Object(b.a)(Object(b.a)({},e),{},{children:[Object(z.jsx)(Qn,{}),Object(z.jsx)(nr,{toggle:function(){return c(!r)},isOpen:r}),Object(z.jsx)(cr,Object(b.a)(Object(b.a)({},e),{},{isOpen:r}))]}))},sr=function(){var e=N(),t=Object(c.useState)(!1),n=Object(W.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(W.a)(i,2),o=s[0],u=s[1],h=Object(c.useRef)(20),l=Object(c.useRef)(),p=Object(c.useRef)(null),b=U(G);Object(c.useEffect)((function(){b&&p.current&&clearInterval(p.current)}),[b]);return Object(z.jsxs)("div",{className:"body-wrapper",children:[Object(z.jsx)(ir,{handleAssemble:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.current&&l.current.generateMachineCode(e,t)},handleLoadBinary:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.current&&l.current.loadBinary(e,t)},disabledAssemble:o,handleStep:function(){return e(m())},handleRun:function(){return function(){var t=r;if(a(!r),t)return clearInterval(p.current),void(p.current=null);e(L());var n=1e3-h.current/100*950;p.current=setInterval((function(){e(m())}),n)}()},handleRunSpeed:function(e){return t=e,h.current=t;var t},running:r}),Object(z.jsxs)("div",{className:"app-wrapper",children:[Object(z.jsx)("div",{className:"editor",children:Object(z.jsx)(kn,{ref:l,setDisableAssemble:u})}),Object(z.jsx)("div",{className:"program-tables",children:Object(z.jsx)(Z,{})})]})]})};s.a.render(Object(z.jsx)(D.a,{children:Object(z.jsx)(P.c,{theme:J,children:Object(z.jsxs)(o.a,{store:M,children:[Object(z.jsx)(k.a,{initialColorMode:J.config.initialColorMode}),Object(z.jsx)(sr,{})]})})}),document.getElementById("root"))},4:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return p}));var r,c,a,i,s=n(5),o=n(3);!function(e){e.litReg="litReg",e.regLit="regLit",e.regLit8="regLit8",e.regReg="regReg",e.regMem="regMem",e.memReg="memReg",e.litMem="litMem",e.regIndReg="regIndReg",e.litOffReg="litOffReg",e.noArgs="noArgs",e.singleReg="singleReg",e.singleLit="singleLit"}(i||(i={}));var u,h,l=(r={},Object(o.a)(r,i.litReg,4),Object(o.a)(r,i.regLit,4),Object(o.a)(r,i.regLit8,3),Object(o.a)(r,i.regReg,3),Object(o.a)(r,i.regMem,4),Object(o.a)(r,i.memReg,4),Object(o.a)(r,i.litMem,5),Object(o.a)(r,i.regIndReg,3),Object(o.a)(r,i.litOffReg,5),Object(o.a)(r,i.noArgs,1),Object(o.a)(r,i.singleReg,2),Object(o.a)(r,i.singleLit,3),r);!function(e){e.MOV="mov",e.ADD="add",e.SUB="sub",e.MUL="mul",e.OR="or",e.AND="and",e.XOR="xor",e.NOT="not",e.LSL="lsl",e.LSR="lsr",e.INC="inc",e.DEC="dec",e.JNE="jne",e.JEQ="jeq",e.JLT="jlt",e.JGT="jgt",e.JLE="jle",e.JGE="jge",e.PSH="psh",e.POP="pop",e.CAL="cal",e.RET="ret",e.HLT="hlt",e.INT="int",e.RET_INT="rti"}(u||(u={})),function(e){e.MOV_LIT_RD="MOV_LIT_RD",e.MOV_RS_RD="MOV_RS_RD",e.STR_RS_MEM="STR_RS_MEM",e.LDR_MEM_RD="LDR_MEM_RD",e.STR_LIT_MEM="STR_LIT_MEM",e.LDR_REG_IND_REG="LDR_REG_IND_REG",e.LDR_LIT_OFF_REG="LDR_LIT_OFF_REG",e.ADD_RX_RY="ADD_RX_RY",e.ADD_LIT_REG="ADD_LIT_REG",e.SUB_REG_LIT="SUB_REG_LIT",e.SUB_LIT_REG="SUB_LIT_REG",e.SUB_RX_RY="SUB_RX_RY",e.INC_REG="INC_REG",e.DEC_REG="DEC_REG",e.MUL_LIT_REG="MUL_LIT_REG",e.MUL_REG_REG="MUL_REG_REG",e.LSL_REG_LIT="LSL_REG_LIT",e.LSL_REG_REG="LSL_REG_REG",e.LSR_REG_LIT="LSR_REG_LIT",e.LSR_REG_REG="LSR_REG_REG",e.AND_REG_LIT="AND_REG_LIT",e.AND_REG_REG="AND_REG_REG",e.OR_REG_LIT="OR_REG_LIT",e.OR_REG_REG="OR_REG_REG",e.XOR_REG_LIT="XOR_REG_LIT",e.XOR_REG_REG="XOR_REG_REG",e.NOT="NOT",e.JMP_NOT_EQ="JMP_NOT_EQ",e.JNE_REG="JNE_REG",e.JEQ_REG="JEQ_REG",e.JEQ_LIT="JEQ_LIT",e.JLT_REG="JLT_REG",e.JLT_LIT="JLT_LIT",e.JGT_REG="JGT_REG",e.JGT_LIT="JGT_LIT",e.JLE_REG="JLE_REG",e.JLE_LIT="JLE_LIT",e.JGE_REG="JGE_REG",e.JGE_LIT="JGE_LIT",e.PSH_LIT="PSH_LIT",e.PSH_RS="PSH_RS",e.POP="POP",e.CAL_LIT="CAL_LIT",e.CAL_RS="CAL_RS",e.RET="RET",e.HLT="HLT",e.INT="INT",e.RET_INT="RET_INT"}(h||(h={}));var p=(c={},Object(o.a)(c,u.MOV,{regReg:h.MOV_RS_RD,litReg:h.MOV_LIT_RD,memReg:h.LDR_MEM_RD,regMem:h.STR_RS_MEM,litMem:h.STR_LIT_MEM,regIndReg:h.LDR_REG_IND_REG,litOffReg:h.LDR_LIT_OFF_REG}),Object(o.a)(c,u.ADD,{regReg:h.ADD_RX_RY,litReg:h.ADD_LIT_REG}),Object(o.a)(c,u.SUB,{regReg:h.SUB_RX_RY,regLit:h.SUB_REG_LIT,litReg:h.SUB_LIT_REG}),Object(o.a)(c,u.MUL,{regReg:h.MUL_REG_REG,litReg:h.MUL_LIT_REG}),Object(o.a)(c,u.AND,{regReg:h.AND_REG_REG,regLit:h.AND_REG_LIT}),Object(o.a)(c,u.OR,{regReg:h.OR_REG_REG,regLit:h.OR_REG_LIT}),Object(o.a)(c,u.XOR,{regReg:h.XOR_REG_REG,regLit:h.XOR_REG_LIT}),Object(o.a)(c,u.LSL,{regReg:h.LSL_REG_REG,regLit:h.LSL_REG_LIT}),Object(o.a)(c,u.LSR,{regReg:h.LSR_REG_REG,regLit:h.LSR_REG_LIT}),Object(o.a)(c,u.INC,{singleReg:h.INC_REG}),Object(o.a)(c,u.DEC,{singleReg:h.DEC_REG}),Object(o.a)(c,u.NOT,{singleReg:h.NOT}),Object(o.a)(c,u.JEQ,{regMem:h.JEQ_REG,litMem:h.JEQ_LIT}),Object(o.a)(c,u.JNE,{regMem:h.JNE_REG,litMem:h.JMP_NOT_EQ}),Object(o.a)(c,u.JLT,{regMem:h.JLT_REG,litMem:h.JLT_LIT}),Object(o.a)(c,u.JGT,{regMem:h.JGT_REG,litMem:h.JGT_LIT}),Object(o.a)(c,u.JLE,{regMem:h.JLE_REG,litMem:h.JLE_LIT}),Object(o.a)(c,u.JGE,{regMem:h.JGE_REG,litMem:h.JGE_LIT}),Object(o.a)(c,u.PSH,{singleReg:h.PSH_RS,singleLit:h.PSH_LIT}),Object(o.a)(c,u.POP,{singleReg:h.POP}),Object(o.a)(c,u.CAL,{singleReg:h.CAL_RS,singleLit:h.CAL_LIT}),Object(o.a)(c,u.RET,{noArgs:h.RET}),Object(o.a)(c,u.HLT,{noArgs:h.HLT}),c),b=function(e){return{type:i[e],size:l[e]}},O=(a={},Object(o.a)(a,h.MOV_LIT_RD,Object(s.a)(Object(s.a)({instruction:h.MOV_LIT_RD,opCode:16},b(i.litReg)),{},{mnemonic:u.MOV})),Object(o.a)(a,h.MOV_RS_RD,Object(s.a)(Object(s.a)({instruction:h.MOV_RS_RD,opCode:17},b(i.regReg)),{},{mnemonic:u.MOV})),Object(o.a)(a,h.STR_RS_MEM,Object(s.a)(Object(s.a)({instruction:h.STR_RS_MEM,opCode:18},b(i.regMem)),{},{mnemonic:u.MOV})),Object(o.a)(a,h.LDR_MEM_RD,Object(s.a)(Object(s.a)({instruction:h.LDR_MEM_RD,opCode:19},b(i.memReg)),{},{mnemonic:u.MOV})),Object(o.a)(a,h.STR_LIT_MEM,Object(s.a)(Object(s.a)({instruction:h.STR_LIT_MEM,opCode:27},b(i.litMem)),{},{mnemonic:u.MOV})),Object(o.a)(a,h.LDR_REG_IND_REG,Object(s.a)(Object(s.a)({instruction:h.LDR_REG_IND_REG,opCode:28},b(i.regIndReg)),{},{mnemonic:u.MOV})),Object(o.a)(a,h.LDR_LIT_OFF_REG,Object(s.a)(Object(s.a)({instruction:h.LDR_LIT_OFF_REG,opCode:29},b(i.litOffReg)),{},{mnemonic:u.MOV})),Object(o.a)(a,h.ADD_RX_RY,Object(s.a)(Object(s.a)({instruction:h.ADD_RX_RY,opCode:20},b(i.regReg)),{},{mnemonic:u.ADD})),Object(o.a)(a,h.ADD_LIT_REG,Object(s.a)(Object(s.a)({instruction:h.ADD_LIT_REG,opCode:63},b(i.litReg)),{},{mnemonic:u.ADD})),Object(o.a)(a,h.SUB_LIT_REG,Object(s.a)(Object(s.a)({instruction:h.SUB_LIT_REG,opCode:22},b(i.litReg)),{},{mnemonic:u.SUB})),Object(o.a)(a,h.SUB_REG_LIT,Object(s.a)(Object(s.a)({instruction:h.SUB_REG_LIT,opCode:30},b(i.regLit)),{},{mnemonic:u.SUB})),Object(o.a)(a,h.SUB_RX_RY,Object(s.a)(Object(s.a)({instruction:h.SUB_RX_RY,opCode:31},b(i.regReg)),{},{mnemonic:u.SUB})),Object(o.a)(a,h.INC_REG,Object(s.a)(Object(s.a)({instruction:h.INC_REG,opCode:53},b(i.singleReg)),{},{mnemonic:u.INC})),Object(o.a)(a,h.DEC_REG,Object(s.a)(Object(s.a)({instruction:h.DEC_REG,opCode:54},b(i.singleReg)),{},{mnemonic:u.DEC})),Object(o.a)(a,h.MUL_LIT_REG,Object(s.a)(Object(s.a)({instruction:h.MUL_LIT_REG,opCode:32},b(i.litReg)),{},{mnemonic:u.MUL})),Object(o.a)(a,h.MUL_REG_REG,Object(s.a)(Object(s.a)({instruction:h.MUL_REG_REG,opCode:33},b(i.regReg)),{},{mnemonic:u.MUL})),Object(o.a)(a,h.LSL_REG_LIT,Object(s.a)(Object(s.a)({instruction:h.LSL_REG_LIT,opCode:38},b(i.regLit)),{},{mnemonic:u.LSL})),Object(o.a)(a,h.LSL_REG_REG,Object(s.a)(Object(s.a)({instruction:h.LSL_REG_REG,opCode:39},b(i.regReg)),{},{mnemonic:u.LSL})),Object(o.a)(a,h.LSR_REG_LIT,Object(s.a)(Object(s.a)({instruction:h.LSL_REG_LIT,opCode:42},b(i.regLit)),{},{mnemonic:u.LSR})),Object(o.a)(a,h.LSR_REG_REG,Object(s.a)(Object(s.a)({instruction:h.LSR_REG_REG,opCode:43},b(i.regReg)),{},{mnemonic:u.LSR})),Object(o.a)(a,h.AND_REG_LIT,Object(s.a)(Object(s.a)({instruction:h.AND_REG_LIT,opCode:46},b(i.regLit)),{},{mnemonic:u.AND})),Object(o.a)(a,h.AND_REG_REG,Object(s.a)(Object(s.a)({instruction:h.AND_REG_REG,opCode:47},b(i.regReg)),{},{mnemonic:u.AND})),Object(o.a)(a,h.OR_REG_LIT,Object(s.a)(Object(s.a)({instruction:h.OR_REG_LIT,opCode:48},b(i.regLit)),{},{mnemonic:u.OR})),Object(o.a)(a,h.OR_REG_REG,Object(s.a)(Object(s.a)({instruction:h.OR_REG_REG,opCode:49},b(i.regReg)),{},{mnemonic:u.OR})),Object(o.a)(a,h.XOR_REG_LIT,Object(s.a)(Object(s.a)({instruction:h.XOR_REG_LIT,opCode:50},b(i.regLit)),{},{mnemonic:u.XOR})),Object(o.a)(a,h.XOR_REG_REG,Object(s.a)(Object(s.a)({instruction:h.XOR_REG_REG,opCode:51},b(i.regReg)),{},{mnemonic:u.XOR})),Object(o.a)(a,h.NOT,Object(s.a)(Object(s.a)({instruction:h.NOT,opCode:52},b(i.singleReg)),{},{mnemonic:u.NOT})),Object(o.a)(a,h.JMP_NOT_EQ,Object(s.a)(Object(s.a)({instruction:h.JMP_NOT_EQ,opCode:21},b(i.litMem)),{},{mnemonic:u.JNE})),Object(o.a)(a,h.JNE_REG,Object(s.a)(Object(s.a)({instruction:h.JNE_REG,opCode:64},b(i.regMem)),{},{mnemonic:u.JNE})),Object(o.a)(a,h.JEQ_REG,Object(s.a)(Object(s.a)({instruction:h.JEQ_REG,opCode:62},b(i.regMem)),{},{mnemonic:u.JEQ})),Object(o.a)(a,h.JEQ_LIT,Object(s.a)(Object(s.a)({instruction:h.JEQ_LIT,opCode:65},b(i.litMem)),{},{mnemonic:u.JEQ})),Object(o.a)(a,h.JLT_REG,Object(s.a)(Object(s.a)({instruction:h.JLT_REG,opCode:66},b(i.regMem)),{},{mnemonic:u.MUL})),Object(o.a)(a,h.JLT_LIT,Object(s.a)(Object(s.a)({instruction:h.JLT_LIT,opCode:67},b(i.litMem)),{},{mnemonic:u.MUL})),Object(o.a)(a,h.JGT_REG,Object(s.a)(Object(s.a)({instruction:h.JGT_REG,opCode:68},b(i.regMem)),{},{mnemonic:u.JGT})),Object(o.a)(a,h.JGT_LIT,Object(s.a)(Object(s.a)({instruction:h.JGT_LIT,opCode:69},b(i.litMem)),{},{mnemonic:u.JGT})),Object(o.a)(a,h.JLE_REG,Object(s.a)(Object(s.a)({instruction:h.JLE_REG,opCode:70},b(i.regMem)),{},{mnemonic:u.JLE})),Object(o.a)(a,h.JLE_LIT,Object(s.a)(Object(s.a)({instruction:h.JLE_LIT,opCode:71},b(i.litMem)),{},{mnemonic:u.JLE})),Object(o.a)(a,h.JGE_REG,Object(s.a)(Object(s.a)({instruction:h.JGE_REG,opCode:72},b(i.regMem)),{},{mnemonic:u.JGE})),Object(o.a)(a,h.JGE_LIT,Object(s.a)(Object(s.a)({instruction:h.JGE_LIT,opCode:73},b(i.litMem)),{},{mnemonic:u.JGE})),Object(o.a)(a,h.PSH_LIT,Object(s.a)(Object(s.a)({instruction:h.PSH_LIT,opCode:23},b(i.singleLit)),{},{mnemonic:u.PSH})),Object(o.a)(a,h.PSH_RS,Object(s.a)(Object(s.a)({instruction:h.PSH_RS,opCode:24},b(i.singleReg)),{},{mnemonic:u.PSH})),Object(o.a)(a,h.POP,Object(s.a)(Object(s.a)({instruction:h.POP,opCode:26},b(i.singleReg)),{},{mnemonic:u.POP})),Object(o.a)(a,h.CAL_LIT,Object(s.a)(Object(s.a)({instruction:h.CAL_LIT,opCode:94},b(i.singleLit)),{},{mnemonic:u.CAL})),Object(o.a)(a,h.CAL_RS,Object(s.a)(Object(s.a)({instruction:h.CAL_RS,opCode:95},b(i.singleReg)),{},{mnemonic:u.CAL})),Object(o.a)(a,h.RET,Object(s.a)(Object(s.a)({instruction:h.RET,opCode:96},b(i.noArgs)),{},{mnemonic:u.RET})),Object(o.a)(a,h.HLT,Object(s.a)(Object(s.a)({instruction:h.HLT,opCode:255},b(i.noArgs)),{},{mnemonic:u.HLT})),Object(o.a)(a,h.INT,Object(s.a)(Object(s.a)({instruction:h.INT,opCode:253},b(i.singleLit)),{},{mnemonic:u.INT})),Object(o.a)(a,h.RET_INT,Object(s.a)(Object(s.a)({instruction:h.RET_INT,opCode:252},b(i.noArgs)),{},{mnemonic:u.RET_INT})),a);t.c=O},58:function(e,t,n){"use strict";t.a=["r0","r1","r2","r3","r4","r5","r6","r7","acc","mb","im","sp","fp","pc"]},79:function(e,t,n){"use strict";(function(e){var r=n(18),c=n(50),a=n(51),i=n(7),s=n(39),o=n(81),u=n(4),h=n(58),l=Object(s.a)("memory"),p=Object(s.a)("registerLabels"),b=Object(s.a)("registers"),O=Object(s.a)("registersMap"),R=Object(s.a)("stackFrameSize"),d=Object(s.a)("interruptVectorAddress"),g=Object(s.a)("isInInterruptHandler"),j=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;Object(c.a)(this,t),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object(i.a)(this,l)[l]=e,Object(i.a)(this,p)[p]=Object(r.a)(h.a),Object(i.a)(this,b)[b]=Object(o.a)(2*Object(i.a)(this,p)[p].length),Object(i.a)(this,O)[O]=Object(i.a)(this,p)[p].reduce((function(e,t,n){return e[t]=2*n,e}),{}),Object(i.a)(this,R)[R]=0,Object(i.a)(this,d)[d]=n,Object(i.a)(this,g)[g]=!1,this.setRegister("im",65535),this.setRegister("sp",65534),this.setRegister("fp",65534)}return Object(a.a)(t,[{key:"debug",value:function(){var e=this;Object(i.a)(this,p)[p].forEach((function(t){console.log("".concat(t,": \t0x").concat(e.getRegister(t).toString(16).padStart(4,"0")))})),console.log("\n----------\n")}},{key:"getRegisterBank",value:function(){var e=this;return Object(i.a)(this,p)[p].reduce((function(t,n,r){return t[n]="0x".concat(e.getRegister(n).toString(16).padStart(4,"0")),t}),{})}},{key:"viewMemoryAt",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=Array.from({length:t},(function(t,r){return Object(i.a)(n,l)[l].getUint8(e+r)})).map((function(e){return"0x".concat(e.toString(16).padStart(2,"0"))}));return r&&console.log("0x".concat(e.toString(16).padStart(4,"0"),": ").concat(c.join(" "))),Object(i.a)(this,l)[l].getUint16(e)}},{key:"getRegister",value:function(e){if(!(e in Object(i.a)(this,O)[O]))throw new Error("getRegister(label): No such register '".concat(e,"'"));return Object(i.a)(this,b)[b].getUint16(Object(i.a)(this,O)[O][e])}},{key:"setRegister",value:function(e,t){if(!(e in Object(i.a)(this,O)[O]))throw new Error("setRegister(label): No such register '".concat(e,"'"));return Object(i.a)(this,b)[b].setUint16(Object(i.a)(this,O)[O][e],t)}},{key:"fetch",value:function(){var e=this.getRegister("pc"),t=Object(i.a)(this,l)[l].getUint8(e);return this.setRegister("pc",e+1),t}},{key:"fetch16",value:function(){var e=this.getRegister("pc"),t=Object(i.a)(this,l)[l].getUint16(e);return this.setRegister("pc",e+2),t}},{key:"fetchRegIndex",value:function(){return this.fetch()%Object(i.a)(this,p)[p].length*2}},{key:"push",value:function(e){var t=this.getRegister("sp");Object(i.a)(this,l)[l].setUint16(t,e),this.setRegister("sp",t-2),Object(i.a)(this,R)[R]+=2}},{key:"pop",value:function(){var e=this.getRegister("sp")+2;return this.setRegister("sp",e),Object(i.a)(this,R)[R]-=2,Object(i.a)(this,l)[l].getUint16(e)}},{key:"pushState",value:function(){var e=this;Object(i.a)(this,p)[p].forEach((function(t){["acc","sp","fp"].includes(t)||e.push(e.getRegister(t))})),this.push(Object(i.a)(this,R)[R]+2),this.setRegister("fp",this.getRegister("sp")),Object(i.a)(this,R)[R]=0}},{key:"popState",value:function(){var e=this,t=this.getRegister("fp");this.setRegister("sp",t),Object(i.a)(this,R)[R]=this.pop();var n=Object(i.a)(this,R)[R];Object(i.a)(this,p)[p].slice().reverse().forEach((function(t){["acc","sp","fp"].includes(t)||e.setRegister(t,e.pop())}));var r=this.pop();this.setRegister("sp",this.getRegister("sp")+2*r),this.setRegister("fp",t+n)}},{key:"handleInterrupt",value:function(e){var t=e%15;if(Boolean(1<<t&this.getRegister("im"))){var n=Object(i.a)(this,d)[d]+2*t,r=Object(i.a)(this,l)[l].getUint16(n);Object(i.a)(this,g)[g]||(this.push(0),this.pushState()),Object(i.a)(this,g)[g]=!0,this.setRegister("pc",r)}}},{key:"execute",value:function(e){switch(e){case u.c.MOV_LIT_RD.opCode:var t=this.fetch16(),n=this.fetchRegIndex();return Object(i.a)(this,b)[b].setUint16(n,t);case u.c.MOV_RS_RD.opCode:var r=this.fetchRegIndex(),c=this.fetchRegIndex(),a=Object(i.a)(this,b)[b].getUint16(r);return Object(i.a)(this,b)[b].setUint16(c,a);case u.c.STR_RS_MEM.opCode:var s=this.fetchRegIndex(),o=this.fetch16(),h=Object(i.a)(this,b)[b].getUint16(s);return Object(i.a)(this,l)[l].setUint16(o,h);case u.c.STR_LIT_MEM.opCode:var p=this.fetch16(),O=this.fetch16();return Object(i.a)(this,l)[l].setUint16(O,p);case u.c.LDR_MEM_RD.opCode:var R=this.fetch16(),d=this.fetchRegIndex(),j=Object(i.a)(this,l)[l].getUint16(R);return Object(i.a)(this,b)[b].setUint16(d,j);case u.c.LDR_REG_IND_REG.opCode:var f=this.fetchRegIndex(),E=this.fetchRegIndex(),_=Object(i.a)(this,b)[b].getUint16(f),m=Object(i.a)(this,l)[l].getUint16(_);Object(i.a)(this,b)[b].setUint16(E,m);case u.c.LDR_LIT_OFF_REG.opCode:var x=this.fetch16(),v=this.fetchRegIndex(),L=this.fetchRegIndex(),T=Object(i.a)(this,b)[b].getUint16(v),I=Object(i.a)(this,l)[l].getUint16(x+T);return Object(i.a)(this,b)[b].setUint16(L,I);case u.c.ADD_RX_RY.opCode:var S=this.fetchRegIndex(),C=this.fetchRegIndex(),G=Object(i.a)(this,b)[b].getUint16(S),A=Object(i.a)(this,b)[b].getUint16(C);return this.setRegister("acc",G+A);case u.c.ADD_LIT_REG.opCode:var w=this.fetch16(),y=this.fetchRegIndex(),M=Object(i.a)(this,b)[b].getUint16(y);return this.setRegister("acc",M+w);case u.c.SUB_LIT_REG.opCode:var N=this.fetch16(),U=this.fetchRegIndex(),D=Object(i.a)(this,b)[b].getUint16(U);return this.setRegister("acc",D-N);case u.c.SUB_REG_LIT.opCode:var P=this.fetchRegIndex(),k=this.fetch16(),B=Object(i.a)(this,b)[b].getUint16(P);return this.setRegister("acc",k-B);case u.c.SUB_RX_RY.opCode:var J=this.fetchRegIndex(),W=this.fetchRegIndex(),H=Object(i.a)(this,b)[b].getUint16(J),X=Object(i.a)(this,b)[b].getUint16(W);return this.setRegister("acc",H-X);case u.c.MUL_LIT_REG.opCode:var V=this.fetch16(),z=this.fetchRegIndex(),K=Object(i.a)(this,b)[b].getUint16(z);return this.setRegister("acc",K*V);case u.c.MUL_REG_REG.opCode:var Q=this.fetchRegIndex(),Y=this.fetchRegIndex(),F=Object(i.a)(this,b)[b].getUint16(Q),$=Object(i.a)(this,b)[b].getUint16(Y);return this.setRegister("acc",F*$);case u.c.INC_REG.opCode:var Z=this.fetchRegIndex(),q=Object(i.a)(this,b)[b].getUint16(Z);return Object(i.a)(this,b)[b].setUint16(Z,q+1);case u.c.DEC_REG.opCode:var ee=this.fetchRegIndex(),te=Object(i.a)(this,b)[b].getUint16(ee);return Object(i.a)(this,b)[b].setUint16(ee,te-1);case u.c.LSL_REG_LIT.opCode:var ne=this.fetchRegIndex(),re=this.fetch16(),ce=Object(i.a)(this,b)[b].getUint16(ne);return Object(i.a)(this,b)[b].setUint16(ne,ce<<re);case u.c.LSL_REG_REG.opCode:var ae=this.fetchRegIndex(),ie=this.fetchRegIndex(),se=Object(i.a)(this,b)[b].getUint16(ae),oe=Object(i.a)(this,b)[b].getUint16(ie);return Object(i.a)(this,b)[b].setUint16(ae,se<<oe);case u.c.LSR_REG_LIT.opCode:var ue=this.fetchRegIndex(),he=this.fetch16(),le=Object(i.a)(this,b)[b].getUint16(ue);return Object(i.a)(this,b)[b].setUint16(ue,le>>he);case u.c.LSR_REG_REG.opCode:var pe=this.fetchRegIndex(),be=this.fetchRegIndex(),Oe=Object(i.a)(this,b)[b].getUint16(pe),Re=Object(i.a)(this,b)[b].getUint16(be);return Object(i.a)(this,b)[b].setUint16(pe,Oe>>Re);case u.c.AND_REG_LIT.opCode:var de=this.fetchRegIndex(),ge=this.fetch16(),je=Object(i.a)(this,b)[b].getUint16(de);return this.setRegister("acc",je&ge);case u.c.AND_REG_REG.opCode:var fe=this.fetchRegIndex(),Ee=this.fetchRegIndex(),_e=Object(i.a)(this,b)[b].getUint16(fe),me=Object(i.a)(this,b)[b].getUint16(Ee);return this.setRegister("acc",_e&me);case u.c.OR_REG_LIT.opCode:var xe=this.fetchRegIndex(),ve=this.fetch16(),Le=Object(i.a)(this,b)[b].getUint16(xe);return this.setRegister("acc",Le|ve);case u.c.OR_REG_REG.opCode:var Te=this.fetchRegIndex(),Ie=this.fetchRegIndex(),Se=Object(i.a)(this,b)[b].getUint16(Te),Ce=Object(i.a)(this,b)[b].getUint16(Ie);return this.setRegister("acc",Se|Ce);case u.c.XOR_REG_LIT.opCode:var Ge=this.fetchRegIndex(),Ae=this.fetch16(),we=Object(i.a)(this,b)[b].getUint16(Ge);return this.setRegister("acc",we^Ae);case u.c.XOR_REG_REG.opCode:var ye=this.fetchRegIndex(),Me=this.fetchRegIndex(),Ne=Object(i.a)(this,b)[b].getUint16(ye),Ue=Object(i.a)(this,b)[b].getUint16(Me);return this.setRegister("acc",Ne^Ue);case u.c.NOT.opCode:var De=this.fetchRegIndex(),Pe=65535&~Object(i.a)(this,b)[b].getUint16(De);return this.setRegister("acc",Pe);case u.c.JMP_NOT_EQ.opCode:var ke=this.fetch16(),Be=this.fetch16();return void(ke!==this.getRegister("acc")&&this.setRegister("pc",Be));case u.c.JNE_REG.opCode:var Je=this.fetchRegIndex(),We=Object(i.a)(this,b)[b].getUint16(Je),He=this.fetch16();return void(We!==this.getRegister("acc")&&this.setRegister("pc",He));case u.c.JEQ_LIT.opCode:var Xe=this.fetch16(),Ve=this.fetch16();return void(Xe===this.getRegister("acc")&&this.setRegister("pc",Ve));case u.c.JEQ_REG.opCode:var ze=this.fetchRegIndex(),Ke=Object(i.a)(this,b)[b].getUint16(ze),Qe=this.fetch16();return void(Ke===this.getRegister("acc")&&this.setRegister("pc",Qe));case u.c.JLT_LIT.opCode:var Ye=this.fetch16(),Fe=this.fetch16();return void(Ye<this.getRegister("acc")&&this.setRegister("pc",Fe));case u.c.JLT_REG.opCode:var $e=this.fetchRegIndex(),Ze=Object(i.a)(this,b)[b].getUint16($e),qe=this.fetch16();return void(Ze<this.getRegister("acc")&&this.setRegister("pc",qe));case u.c.JGT_LIT.opCode:var et=this.fetch16(),tt=this.fetch16();return void(et>this.getRegister("acc")&&this.setRegister("pc",tt));case u.c.JGT_REG.opCode:var nt=this.fetchRegIndex(),rt=Object(i.a)(this,b)[b].getUint16(nt),ct=this.fetch16();return void(rt>this.getRegister("acc")&&this.setRegister("pc",ct));case u.c.JLE_LIT.opCode:var at=this.fetch16(),it=this.fetch16();return void(at<=this.getRegister("acc")&&this.setRegister("pc",it));case u.c.JLE_REG.opCode:var st=this.fetchRegIndex(),ot=Object(i.a)(this,b)[b].getUint16(st),ut=this.fetch16();return void(ot<=this.getRegister("acc")&&this.setRegister("pc",ut));case u.c.JGE_LIT.opCode:var ht=this.fetch16(),lt=this.fetch16();return void(ht>=this.getRegister("acc")&&this.setRegister("pc",lt));case u.c.JGE_REG.opCode:var pt=this.fetchRegIndex(),bt=Object(i.a)(this,b)[b].getUint16(pt),Ot=this.fetch16();return void(bt>=this.getRegister("acc")&&this.setRegister("pc",Ot));case u.c.PSH_LIT.opCode:var Rt=this.fetch16();return this.push(Rt);case u.c.PSH_RS.opCode:var dt=this.fetchRegIndex(),gt=Object(i.a)(this,b)[b].getUint16(dt);return this.push(gt);case u.c.POP.opCode:var jt=this.fetchRegIndex();return Object(i.a)(this,b)[b].setUint16(jt,this.pop());case u.c.CAL_LIT.opCode:var ft=this.fetch16();return this.pushState(),this.setRegister("pc",ft);case u.c.CAL_RS.opCode:var Et=this.fetchRegIndex(),_t=Object(i.a)(this,b)[b].getUint16(Et);return this.pushState(),this.setRegister("pc",_t);case u.c.RET.opCode:return this.popState();case u.c.HLT.opCode:return!0;case u.c.INT.opCode:var mt=this.fetch16();return this.handleInterrupt(mt);case u.c.RET_INT.opCode:Object(i.a)(this,g)[g]=!1,this.popState()}}},{key:"cycle",value:function(){return this.execute(this.fetch())}},{key:"run",value:function(){var t=this;this.cycle()||e((function(){return t.run()}))}}]),t}();t.a=j}).call(this,n(143).setImmediate)},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=new ArrayBuffer(e);return new DataView(t)}}},[[167,1,2]]]);
//# sourceMappingURL=main.4e277fbd.chunk.js.map